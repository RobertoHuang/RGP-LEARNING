# 容器生命周期
```
# 创建容器(不启动)
# docker create [OPTIONS] IMAGE [COMMAND]  [ARG...]

# 启动容器
# docker start [OPTIONS] CONTAINER [CONTAINER...]
    # 常用操作:
        -i:启动容器并进入交互模式

# 创建容器并运行一个命令
# docker run [OPTIONS] IMAGE [COMMAND]  [ARG...]
    # 常用操作:
        -d:后台运行容器
        -it:交互模式运行容器
        --rm:在容器停止后删除容器 测试用比较方便
        --name:为容器注册一个别名

# 以守护形式运行容器
在交互模式下 使用Ctrl+P => Ctrl+Q

# 停止容器
# docker stop [OPTIONS] CONTAINER [CONTAINER...]

# 重启容器
# docker restart [OPTIONS] CONTAINER [CONTAINER...]

# 删除容器
# docker rm [OPTIONS] CONTAINER [CONTAINER...]

# 杀掉运行中的容器
# docker kill [OPTIONS] CONTAINER [CONTAINER...]

# 在运行容器中执行命令
# docker exec  [OPTIONS] CONTAINER COMMAND [ARG...]
    #常用操作:
        -d:分离模式在后台运行
        -it:交互模式下运行命令
```
# 容器相关操作
```
# 列出容器
# docker ps [OPTIONS]
    # 常用操作:
        -a:显示所有容器，包括未运行的
        -l:显示最近创建的容器

# 连接到正在运行的容器
# docker attach [OPTIONS] CONTAINER

# 查看后台运行容器日志
# docker logs -tf --tail 0 CONTAINER
    # 常用操作:
        -t:显示时间戳
        -f:跟踪日志输出
        --tail:仅列出最新N条容器日志 tail 0只表示只显示最新日志

# 获取容器/镜像的元数据
# docker inspect [OPTIONS] NAME|ID [NAME|ID...]
    # 常用操作:
        -f:指定返回值的模板文件 如:-f {{".RootFS.Layers"}}

# 查看容器运行的进程信息
# docker top [OPTIONS] CONTAINER [ps OPTIONS]
``````
# 镜像仓库
```
# 从镜像仓库中查找查找镜像
# docker search [OPTIONS] TERM
    # 常用操作:
        -s:列出收藏数不小于指定值的镜像

# 从镜像仓库中拉取或更新指定镜像
# docker pull [OPTIONS] NAME[:TAG|@DIGEST]

# 登录Docker镜像仓库 如果未指定镜像仓库地址默认为DockerHub
# docker login [OPTIONS]  [SERVER]
    # 常用操作:
        -u:账号
        -p:密码

# 登出Docker镜像仓库 如果未指定镜像仓库地址默认为DockerHub
# docker logout [OPTIONS]  [SERVER]

# 将本地镜像上传到镜像仓库 执行该命令前需先登录
# docker push [OPTIONS] NAME[:TAG]
```
# 本地镜像管理
```
# 查看镜像保存位置
# docker info | grep 'Docker Root Dir'

# 列出本地镜像
# docker images [OPTIONS]  [REPOSITORY[:TAG]]
    # 常用操作:
        -a:列出本地所有镜像
        -q:只显示镜像ID

# 删除本地镜像
# docker rmi [OPTIONS] IMAGE [IMAGE...]
    # 常用操作:
        -f:强制删除

# 删除所有ubuntu的镜像
# docker rmi $(docker images -q ubuntu)

# 标记本地镜像
# docker tag [OPTIONS] IMAGE[:TAG]  [REGISTRYHOST/][USERNAME/]NAME[:TAG]

# 使用DockerFile构建镜像
# docker build [OPTIONS] PATH | URL |  -
```
# 容器rootfs命令
```
# 从容器创建新的镜像
# docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]
    # 常用操作:
        -a:提交的镜像作者
        -m:提交时的文字说明
        -p:在commit时，将容器暂停
```
